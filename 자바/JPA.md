# JPA (Java Persistence API)
JPA란 Java의 ORM 기술 표준을 뜻한다. JPA는 인터페이스의 모음이라고 보면되는데, 이를 구현한 하이버네이트, EclipseLink, DataNucleus라는 3가지의 구현체가 있다. 주로 하이버네이트를 가장 많이 사용한다.


## ORM (Object Relational Mapping)
객체 관계 매핑. 객체는 객체대로 설계하고, 데이터베이스는 데이터베이스대로 설계하여 ORM 프레임워크가 중간에서 둘을 매핑해주는 기술을 말한다.

## ORM 기술의 필요성
ORM 기술의 중요성이 대두되기전에는 주로 SQL 중심적인 개발이 이루어졌다. 하지만 근래의 애플리케이션은 대다수 객체지향 언어로 개발하여 관계형 DataBase에 저장하는 방식의 구조를 띄고있다.<br>
개발자는 객체를 데이터베이스에 저장하기위해 SQL을 생성하고, 실행하는 일련의 과정을 반복해왔다. 하지만 객체와 관계형 데이터베이스는 서로 다른 구조를 띄고있기 때문에 패러다임의 불일치가 발생하고 이를 해결하기 위해 객체에 변경이 있을때마다 개발자는 관계형 데이터베이스에 저장하는 코드를 수정하는 과정을 반복하게 된다. <br>이러한 문제점을 해결하기 위해 객체는 객체대로, 관계형 데이터 베이스는 데이터베이스 대로 설계하고 그 둘 사이의 관계를 매핑해주는 ORM 기술의 중요성이 높아진 것이다. ORM의 객체 관계 매핑 덕분에 개발자는 객체에 변경이 생겨도 객체에 대한 코드만 수정하면 되므로 개발 생산성은 높아지고, 설계에 더욱 집중할 수 있게 된다.

## JPA를 사용해야하는 이유
- SQL 중심적인 개발에서 객체 중심 개발이 가능함
- 생산성의 증가
- 유지보수 용이
- 패러다임의 불일치 해결
- 성능 최적화
  - 1차 캐시, 동일성 보장, 트랜잭션을 지원하는 쓰기 지연(Transactional write-behind), 지연 로딩(Lazy Loading)
- 표준 기술
- 데이터 접근 추상화, 벤더 독립성

## JPA에서 가장 중요한 2가지
1. ORM
2. 영속성 컨텍스트 (Persistence Context)

### 영속성 컨텍스트
영속성 컨텍스트란 논리적인 개념으로, 엔티티를 영구 저장하는 환경이라고 보면 된다. EntityManager를 통해 영속성 컨텍스트에 접근할 수 있다.

### JPA의 엔티티 생명주기
<img src="/img/entity_life_cycle.png">

- New : 비영속. 새로 생성된 상태.
- Managed : 영속. 영속성 컨텍스트에 의해 관리되는 상태
- detached : 준영속. 영속성 컨텍스트에 관리되다가 분리된 상태
- removed : 삭제된 상태





### References
[김영한님-자바 ORM 표준 JPA 프로그래밍(기본편)](https://www.inflearn.com/course/ORM-JPA-Basic/dashboard)
